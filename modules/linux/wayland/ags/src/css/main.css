:root {
  --white: 255 255 255;
  --text: 255 255 255;
  --primary: 50 110 255;
  --active: 130 255 70;
  --success: 40 255 40;
  --warning: 255 190 40;
  --error: 255 90 90;
  --special: 120 45 255;

  --dark: 50 50 50;
  --primary-dark: 16 36 84;
  --active-dark: 36 84 23;
  --success-dark: 13 84 13;
  --warning-dark: 84 62 13;
  --error-dark: 84 29 29;
  --special-dark: 39 14 84;

  --h-blue: 264;
  --h-primary: 254;
  --h-special: 282;
  --h-active: 140;

  --color-primary-01: oklch(64% 0.192 var(--h-primary));
  --color-primary-02: oklch(70% 0.15 var(--h-primary));
  --color-primary-03: oklch(69% 0.16 var(--h-primary));

  --color-active-01: oklch(72.5% 0.225 var(--h-active));

  --color-special-01: oklch(67% 0.162 var(--h-special));

  --color-primary: var(--color-primary-03);
  --color-active: var(--color-active-01);
  --color-special: var(--color-special-01);

  --border-opacity: 0.95;
  --internal-border-opacity: 0.75;
  --border-width: 1.5px;

  --color-bar-background-01: oklch(44% 0.0195 var(--h-primary) / 0.65);
  --color-bar-background-02: oklch(42.8% 0.0165 var(--h-blue) / 0.65);
  --color-bar-background-03: oklch(36% 0.0305 calc(var(--h-primary)) / 0.6);
  --color-bar-background-04: oklch(38% 0.0275 calc(var(--h-primary)) / 0.6);

  --color-bar-background: var(--color-bar-background-04);

  --color-bar-border: oklch(from var(--color-bar-background) 60% calc(c * 0.25) h / 0.51);

  --bar-border: 2px solid var(--color-bar-border);

  --status-entry-border-color: oklch(from var(--color-primary) l c h / var(--border-opacity));
  --status-entry-border: var(--border-width) solid var(--status-entry-border-color);
  --status-entry-internal-border-color: oklch(
    from var(--status-entry-border-color) calc(l * 0.75) calc(c * 0.6) h /
      var(--internal-border-opacity)
  );
  --status-entry-internal-border: var(--border-width) solid
    var(--status-entry-internal-border-color);
  --status-entry-background: rgb(var(--dark) / 0.8);
  --status-entry-padding: 1px 4px;

  --status-entry {
    border-radius: 9999px;
    border: var(--status-entry-border);
    background: var(--status-entry-background);
    padding: 0 0px;
    > * {
      padding: var(--status-entry-padding);
      border-radius: 0;
    }
    > *:not(:last-child) {
      border-right: var(--status-entry-internal-border);
    }
    > *:first-child {
      border-top-left-radius: 9999px;
      border-bottom-left-radius: 9999px;
    }
    > *:last-child {
      border-top-right-radius: 9999px;
      border-bottom-right-radius: 9999px;
    }
  }

  --sans {
    font-family: "Symbols Nerd Font Mono", "Inter", sans;
  }
  --mono {
    font-family: "Symbols Nerd Font Mono", "JetBrains Mono", monospace;
  }
}

.icon {
  font-size: 13px;
  -gtk-icon-palette:
    success rgb(var(--success) / 0.8),
    warning rgb(var(--warning) / 0.8),
    error rgb(var(--error) / 0.8);
}

.icon-material {
  font-family: "Material Symbols Sharp", "Material Symbols Rounded", "Material Symbols Outlined";
  font-family: "Material Symbols Outlined", "Material Symbols Sharp", "Material Symbols Rounded";
  font-size: 18px;
  margin: -1px;
  font-weight: 700;
}

.bar {
  @apply --sans;
  background: transparent;
  color: white(0.825);
  font-size: 12px;
  font-weight: 600;
  .bar-left {
    > * {
      margin-right: 6px;
    }
  }
  .bar-center {
    & > * {
      margin: 0 6px;
    }
  }
  .bar-right {
    > * {
      margin-left: 6px;
    }
    > *:first-child {
      margin-left: 0px;
    }
  }
}

.outer {
  padding: 4px;
  border-bottom: var(--bar-border);
  background: var(--color-bar-background);
}

button {
  min-height: 0;
  min-width: 0;
  border-radius: 0;
  background: rgb(var(--dark) / 0.6);
  font-weight: 700;
  color: white(0.925);

  &:hover {
    background: rgb(var(--dark) / 0.3);
  }
  &:active {
    background: rgb(var(--dark) / 0.15);
  }
}

.circular {
  font-size: 4.5px;
  min-width: 14px;
  min-height: 14px;
}

.workspaces {
  > * {
    margin-right: 6px;
  }
  > *:last-child {
    margin-right: 0px;
  }
}

.workspaces-group {
  border-radius: 9999px;
  background: var(--status-entry-background);

  button {
    @apply --mono;
    padding: 0 2px;
    min-width: 2em;
    background: transparent;

    border: var(--status-entry-border);
    border-left: 0;
    border-right: var(--status-entry-border);
    &.first {
      border-left: var(--status-entry-border);
      border-top-left-radius: 9999px;
      border-bottom-left-radius: 9999px;
      padding: 0;
      padding-left: 2px;
    }
    &.last {
      border-top-right-radius: 9999px;
      border-bottom-right-radius: 9999px;
      padding: 0;
      padding-right: 2px;
    }
    &.focused {
      border-color: transparent;
      background: oklch(from var(--color-primary) l c h / 0.35);
      .outer.active & {
        background: oklch(from var(--color-primary) l c h / 0.6);
      }
    }
  }
}

.notification {
  color: rgba(255, 220, 60, 0.9);
}

.client-title {
  margin-right: 6em;
  font-size: 12px;
  & > label {
    padding: 0 10px;
    background: var(--status-entry-background);
    border: var(--status-entry-border);
    border-radius: 9999px;
    min-width: 2em;
  }
}

.datetime {
  @apply --status-entry;
  padding-left: 1px;
  padding-right: 1px;
}

.systray {
  margin: 0;
  button {
    border-radius: 9999px;
    padding: 2px 6px;
    margin: -2px;

    .icon {
      font-size: 16px;
    }
  }
}

menu {
  @apply --sans;
  padding: 2px;
  background: rgba(30, 30, 30, 0.875);
  border: 2px solid rgba(0, 0, 0, 1);
  font-size: 13px;
  color: #d8d8d8;
  button,
  label {
    font-weight: 600;
  }
  button,
  item {
    padding: 6px;
    margin: 0;
  }
}

.battery {
  @apply --status-entry;
}

.volume {
  @apply --status-entry;

  .icon {
    font-size: 13px;
  }

  .status {
    > box {
      margin-top: -1px;
      .circular {
        color: rgba(40, 70, 255, 0.85);
      }
    }
  }
}

.cputemp {
  @apply --status-entry;

  label {
    @apply --mono;
    padding-right: 2px;
    padding-left: 5px;
  }
  & .icon {
    padding-left: 3px;
  }
  &.critical .icon {
    color: rgb(var(--error) / 0.8);
  }
  &.high .icon {
    color: rgb(var(--warning) / 0.8);
  }
  &.medium .icon {
    color: rgba(255, 220, 100, 0.8);
  }
  &.low .icon {
    color: rgba(230, 255, 100, 0.8);
  }
}

.media-event-box {
  .media {
    @apply --status-entry;
    .icon.player {
      font-size: 15px;
    }
    .icon.status {
    }
  }
  &:hover {
    background: white(0.05);
  }
}

.bar-center {
}

.tasks {
  @apply --status-entry;
  border-width: 2px;
  padding: 0px 2px;
  color: white(0.92);
  .icon.icon-material {
    padding-right: 4px;
    font-weight: 600;
  }
  > * {
    padding: 0px 5px;
  }
  > *:not(:last-child) {
    border-right-width: 2px;
  }
  &.active {
    border-color: oklch(from var(--color-active) l c h / 0.9);
    background-color: oklch(from var(--color-active) calc(l * 0.35) calc(c * 0.35) h / 0.6);
    > *:not(:last-child) {
      border-right-color: oklch(from var(--color-active) l c h / 0.9);
    }
  }
  &.short-break {
    border-color: oklch(from var(--color-special) l c h / 0.95);
    background-color: oklch(from var(--color-special) l c h / 0.15);
    > *:not(:last-child) {
      border-right-color: oklch(from var(--color-special) l c h / 0.95);
    }
  }
  &.long-break {
    background-color: rgb(var(--special) / 1);
    border-color: rgb(var(--special) / 1);
    > *:not(:last-child) {
      border-right-color: rgb(var(--special) / 1);
    }
  }
  &.waiting {
    border-color: rgb(var(--warning) / 0.61);
    .icon {
      padding-left: 1px;
      padding-right: 0;
    }
    > * {
      background-color: rgb(var(--warning-dark) / 0.8);
    }
    > *:not(:last-child) {
      border-right-color: rgb(var(--warning) / 0.61);
    }
  }
  box {
    label.state {
      padding-right: 1px;
      margin-left: -3px;
      font-size: 15px;
      font-weight: 500;
    }
  }
  label.timer {
    @apply --mono;
  }
  label.state {
    font-size: 16px;
    font-weight: 700;
  }
  label.task {
    font-size: 12px;
    font-weight: 600;
  }
}
